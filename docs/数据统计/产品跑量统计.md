# 思方支付管理系统 - 产品跑量统计

## 业务目标

建立产品交易量统计分析体系，通过对支付产品的交易金额、手续费、入账金额和交易笔数等核心指标进行统计与分析，实现对产品性能和使用情况的全面评估，为产品策略调整、资源优化配置和收益最大化提供数据支持，同时帮助平台及商户了解各支付产品的运行状况和市场表现。

## 业务逻辑

### 数据筛选逻辑

**时间维度筛选**:
- 支持多种时间范围快速筛选：今日、昨日、最近7天
- 支持自定义日期范围，实现精确的时间段统计分析
- 默认采用"今日"数据，确保关注最新产品使用状况

**产品筛选**:
- 支持按产品名称进行模糊查询，快速定位特定产品
- 可针对单个或多个产品进行数据统计与分析

**商户筛选**:
- 支持多选方式筛选特定商户的产品使用情况
- 可同时分析多个商户对同一产品的使用差异
- 不选择商户时默认展示所有商户的产品使用数据

### 核心统计指标

**金额指标**:
- 总收款金额：产品成功处理的交易金额总和，反映产品业务规模
- 总手续费：产品交易中产生的手续费总额
- 总入账金额：扣除手续费后商户实际获得的金额总和

**交易量指标**:
- 总成功单数：产品成功处理的交易笔数
- 总笔数：产品接收的所有交易请求笔数（包含失败交易）
- 成功率：成功交易笔数占总交易笔数的百分比

### 数据展示与分析

**汇总统计**:
- 在页面顶部展示关键指标汇总数据，提供整体产品表现概览
- 汇总数据随筛选条件变化而动态更新，确保数据一致性

**明细数据**:
- 以表格形式展示各产品在不同商户下的详细统计数据
- 每行独立展示产品的收款金额、手续费、入账金额、交易笔数和成功率
- 支持对不同产品或同一产品在不同商户间的数据进行对比分析

### 数据导出功能

- 支持将符合当前筛选条件的产品统计数据导出为Excel文件
- 导出数据包含所有显示在页面上的核心指标
- 导出文件包含查询条件信息，便于后续分析使用

## 业务规则与应用场景

### 产品性能分析

**使用频率评估**:
- 通过交易笔数分析各产品的使用频率
- 发现高频使用的产品，确保其稳定性和可靠性
- 识别低频使用产品，分析原因并制定改进策略

**成功率监控**:
- 跟踪分析各产品的交易成功率
- 对成功率低于阈值（如95%）的产品进行重点关注
- 发现并解决影响产品成功率的技术或业务问题

### 商户使用行为分析

**产品偏好分析**:
- 分析不同商户对各类支付产品的偏好
- 了解商户业务特点与支付产品选择的关联性
- 为商户提供更精准的产品推荐

**商户业务评估**:
- 通过产品使用情况评估商户业务活跃度
- 分析商户通过不同产品的收款规模和交易特点
- 为商户关系管理提供数据支持

### 产品策略优化

**费率优化**:
- 分析各产品的费率水平与交易量的关系
- 评估费率调整对产品使用量的潜在影响
- 制定平衡收益与市场竞争力的费率策略

**产品组合优化**:
- 识别核心产品和补充产品，合理配置资源
- 分析产品之间的替代关系和互补关系
- 优化产品组合，提升整体业务表现

## 权限控制

- 查看权限：具有"数据统计/产品统计查看"权限的角色可访问产品跑量统计数据
- 导出权限：需要"数据统计/导出"特殊权限才能导出产品统计数据
- 数据范围权限：
  - 管理员可查看所有商户的产品使用数据
  - 商户经理只能查看其负责商户的产品使用情况
  - 商户自身只能查看自己使用的产品数据

## 扩展功能

### 趋势分析

- 提供产品使用趋势的图表展示
- 支持按日、周、月等不同周期查看趋势变化
- 对比分析不同时期的产品表现，发现业务规律

### 产品画像

- 构建产品使用画像，展示各产品的典型使用场景
- 分析不同产品的用户群体特征和使用模式
- 为产品优化和市场营销提供参考

### 异常监控

- 设置产品使用量和成功率的预警阈值
- 当产品数据出现异常波动时自动报警
- 支持对重点产品进行实时监控，确保业务稳定 