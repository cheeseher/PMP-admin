# 操作记录

本页面用于展示群内用户与机器人交互产生的操作日志，并支持多维度筛选与分页浏览。

## 页面目标
- 帮助运营人员快速定位指定时间段、群组、机器人（或普通账号）相关的操作记录。
- 支持按关键词搜索用户输入的命令，辅助问题排查与复盘。

## 功能清单
- 列表与分页：展示操作时间、用户信息、所属群组、关联机器人、用户命令、反馈详情等。
- 筛选区：
  - 名称（输入框）
  - ID（输入框）
  - 命令关键字（输入框）
  - 所属群组（下拉多选）
  - 关联机器人（下拉多选）
  - 关联类型（新增，下拉单选，宽度168px，选项：全部/机器人/普通账号）
  - 操作时间（时间范围选择器）
- 反馈详情弹窗：展示完整的交互过程与系统响应。

## 交互与校验
- 关联机器人列：
  - 当值为非纯数字（如 `@botA`）时，标记为“机器人”。
  - 当值为纯数字（如 `1234567`）时，标记为“普通账号”。
- 关联类型筛选：
  - 为空（全部）时不过滤；
  - 选择“机器人”时仅显示非纯数字的关联值；
  - 选择“普通账号”时仅显示纯数字的关联值。
- 重置筛选时需清空所有字段（含关联类型），并立即刷新列表。

## 数据示例
```json
[
  {
    "time": "2025-01-01 10:00:00",
    "user": { "name": "Shane", "id": "12345" },
    "group": { "name": "测试群1", "id": "1001" },
    "botInvolved": "@botA", // 机器人
    "userCommand": "/add @shane @dylan",
    "feedback": "已处理拉人指令"
  },
  {
    "time": "2025-01-01 10:05:00",
    "user": { "name": "Dylan", "id": "23456" },
    "group": { "name": "测试群2", "id": "1002" },
    "botInvolved": "1234567", // 普通账号
    "userCommand": "/help",
    "feedback": "展示帮助菜单"
  }
]
```

## 验收标准
- 页面显示新增“关联类型”筛选器，宽度为 `168px`，与其他筛选项对齐。
- 筛选区布局优化：采用流式 Flex 排布，统一控件宽度为 168px，解决横向滚动问题。
- 列表数据在选择“机器人”或“普通账号”时能正确过滤显示。
- 重置按钮清空所有筛选（包含关联类型），并恢复为全部数据。
- 本 PRD 与 README 文档已同步记录该筛选项与使用说明；当 `botInvolved` 为 `621152047` 时，列表显示为“普通账号A”。
- 拉人指令示例（`/add @shane @dylan`）对应的“机器人反馈”文案清空（该条记录的反馈字段置空）。