# 商户订单管理
商户订单管理模块用于管理和查看所有商户的订单信息，支持多维度筛选、数据统计、订单操作和导出等功能。

## 页面结构
- 筛选区：支持多条件组合查询
- 统计信息区：以卡片形式展示关键业务指标
- 数据表格：展示订单列表及详细信息
- 操作区：集成在表格工具栏和每行的操作列中
- 弹窗：用于特定操作，如修改金额

## 字段说明

### 筛选字段
| 字段名 | 说明 | 是否必填 | 类型 | 备注 |
|---|---|---|---|---|
| timeType | 时间类型 | 否 | 下拉选择 | 可选：自定义时间、今日、昨日、最近7天 |
| timeRange | 自定义时间范围 | 否 | 日期范围选择器 | 当时间类型为"自定义时间"时启用 |
| completeTimeRange | 完成时间范围 | 否 | 日期范围选择器 | - |
| orderNo | 平台单号 | 否 | 输入框 | 支持模糊搜索，可清空 |
| merchantOrderNo | 商户单号 | 否 | 输入框 | 支持模糊搜索，可清空 |
| merchantId | 商户ID | 否 | 输入框 | 支持模糊搜索，可清空 |
| merchantNo | 商户号 | 否 | 输入框 | 支持模糊搜索，可清空 |
| merchantAccount | 商户账户 | 否 | 输入框 | 支持模糊搜索，可清空 |
| merchantName | 商户名称 | 否 | 输入框 | 支持模糊搜索，可清空 |
| upstreamOrderNo | 上游单号 | 否 | 输入框 | 支持模糊搜索，可清空 |
| minAmount | 最小订单金额 | 否 | 数字输入框 | - |
| maxAmount | 最大订单金额 | 否 | 数字输入框 | - |
| productName | 支付产品 | 否 | 下拉选择 | 可选实际支付产品列表，可清空，支持搜索 |
| productCode | 支付产品编码 | 否 | 输入框 | 可清空 |
| supplier | 供应商 | 否 | 下拉选择 | 可选实际供应商列表，可清空，支持搜索 |
| supplierChannel | 供应商通道 | 否 | 下拉选择 | 可选实际供应商通道列表，可清空，支持搜索 |
| isNextDay | 隔日补单 | 否 | 下拉选择 | 可选：全部、是、否 |
| orderStatus | 订单状态 | 否 | 下拉选择 | 可选：全部状态、订单创建、交易成功、待付款、下单失败、交易撤销、补单成功、交易关闭 |

### 表格字段
| 字段名 | 说明 | 是否排序 | 宽度 | 备注 |
|---|---|---|---|---|
| merchantId | 商户ID | 否 | 80 | 固定列 |
| merchantName | 商户账号 | 否 | 120 | - |
| upstream | 渠道名称 | 否 | 120 | 订单创建时可能为"-" |
| upstreamChannelCode | 渠道编码 | 否 | 120 | 订单创建时可能为"-" |
| upstreamOrderNo | 上游单号 | 否 | 120 | 订单创建时可能为"-" |
| orderNo | 平台单号 | 否 | 120 | 订单创建时可能为"-" |
| merchantOrderNo | 商户单号 | 否 | 120 | - |
| channelCode | 通道编码 | 否 | 100 | - |
| productName | 支付产品名称 | 否 | 120 | - |
| productCode | 支付产品编码 | 否 | 100 | - |
| orderStatus | 订单状态 | 否 | 100 | 使用不同颜色的标签展示，见下方状态说明 |
| orderAmount | 订单金额 | 否 | 100 | 右对齐，货币格式 |
| fee | 手续费 | 否 | 100 | 右对齐，货币格式 |
| receiveAmount | 入账金额 | 否 | 100 | 右对齐，货币格式 |
| channelCost | 通道成本 | 否 | 100 | 右对齐，货币格式 |
| pushStatus | 推送状态 | 否 | 90 | 成功/失败标签 (仅对交易成功/补单成功状态订单) |
| pushResultContent | 推送结果 | 否 | 120 | 一般为"商户回调内容" (仅对交易成功/补单成功状态订单且有推送结果时) |
| isNextDay | 隔日补单 | 否 | 90 | 是/否 标签 |
| createTime | 订单创建时间 | 否 | 150 | YYYY-MM-DD HH:mm:ss |
| completeTime | 订单完成时间 | 否 | 150 | YYYY-MM-DD HH:mm:ss |
| remarkInfo | 备注 | 否 | 150 | - |
| operation | 操作列 | 否 | 120 | 固定列，包含多种操作，见下方操作说明 |

### 订单状态说明
| 状态值 (代码) | 显示文本 | 标签类型 (参考) |
|---|---|---|
| created | 订单创建 | tag-status-created (灰色系) |
| pending | 待付款 | tag-status-pending (橙色系) |
| success | 交易成功 | tag-status-success (绿色系) |
| failed | 下单失败 | tag-status-failed (红色系) |
| canceled | 交易撤销 | tag-status-canceled (灰色系) |
| reorder_success | 补单成功 | tag-status-reorder-success (绿色系) |
| closed | 交易关闭 | tag-status-closed (灰色系) |

## 操作说明
### 表格上方操作
1.  **查询**
    - 点击"查询"按钮，根据筛选条件过滤订单列表。
2.  **重置**
    - 点击"重置"按钮，清除所有筛选条件并刷新列表。
3.  **导出**
    - 点击"导出"按钮，将当前查询结果的订单数据导出为文件（如Excel）。
4.  **刷新**
    - 点击"刷新"按钮，重新加载当前页数据。

### 表格行操作 (通过下拉菜单)
根据订单状态，提供以下部分或全部操作：
1.  **手动回调**
    - 触发条件：特定订单状态下（如付款中、交易关闭）
    - 操作：弹出确认框，确认后执行手动回调逻辑。
2.  **修改金额**
    - 触发条件：特定订单状态下
    - 操作：弹出修改金额对话框，显示原始金额，允许输入新金额，确认后执行修改。
3.  **手动补单**
    - 触发条件：特定订单状态下（如付款中、交易关闭）
    - 操作：弹出确认框，确认后执行手动补单逻辑。
4.  **重新推送**
    - 触发条件：特定订单状态下（如交易成功、补单成功）
    - 操作：弹出确认框，确认后执行重新向上游或商户推送通知的逻辑。
5.  **双向撤销**
    - 触发条件：特定订单状态下（如交易成功、补单成功）
    - 操作：弹出确认框，确认后执行双向撤销逻辑。

## 权限控制 (示例)
- 查看列表：ORDER_LIST
- 查看详情：ORDER_DETAIL (当前页面未直接实现独立详情页，信息在列表和弹窗中展示)
- 导出数据：ORDER_EXPORT
- 修改金额：ORDER_EDIT_AMOUNT
- 手动回调：ORDER_MANUAL_CALLBACK
- (其他操作可类似定义相应权限)

## 其他说明
1. 表格默认每页显示 10 条数据 (可选择 10, 20, 50, 100 条)。
2. 金额字段统一使用人民币货币格式，并保留两位小数。
3. 时间字段统一格式化为 YYYY-MM-DD HH:mm:ss。
4. 列表数据通过API接口获取，支持分页和基于筛选条件的查询。
5. 各项操作（如手动回调、补单等）会与后端API交互。
6. 统计卡片数据会根据当前筛选条件动态更新。 